(()=>{"use strict";var e,t,n={591:(e,t,n)=>{var r=n(687);n(217);const o=new r.q3;o.gravity.set(0,-9.82,0),o.broadphase=new r.BQ(o),o.allowSleep=!0;const a=new r.F5("default"),s=new r.kp(a,a,{friction:.5,restitution:.7});o.defaultContactMaterial=s;let i=[];const l=(e,t)=>{o.addBody(e),t&&i.push(e)},c=new r.hp,p=new r.uT({mass:0});let u,w;p.addShape(c),p.collisionFilterGroup=0,p.collisionFilterMask=0,o.addBody(p),self.addEventListener("message",(e=>{const{type:t,payload:n}=e.data;switch(t){case"CREATE_HOOP":(({position:e,boardPosition:t})=>{const n=r.np.createTorus(.35,.025,16,100),o=new r.uT({mass:0});o.position.set(...e),o.addShape(n,new r.AO(0,0,0),(new r._f).setFromAxisAngle(new r.AO(-1,0,0),.5*Math.PI));const a=new r.xu(new r.AO(.9125,.6095,.015));o.addShape(a,new r.AO(...t),(new r._f).setFromAxisAngle(new r.AO(0,1,0),.5*Math.PI)),l(o)})(n);break;case"CREATE_BALL":(({radius:e,position:t})=>{const n=new r.aL(e),o=new r.uT({mass:1,position:new r.AO(...t),shape:n});var a=new r._f,s=new r._f;a.setFromAxisAngle(new r.AO(1,0,0),.5*Math.PI),s.setFromAxisAngle(new r.AO(0,0,1),.5*Math.PI);var i=s.mult(a);o.quaternion=i,o.sleep(),l(o,!0)})(n);break;case"CREATE_FLOOR":(()=>{const e=new r.JO,t=new r.uT;t.mass=0,t.addShape(e),t.quaternion.setFromAxisAngle(new r.AO(-1,0,0),.5*Math.PI),l(t)})();break;case"UPDATE":(()=>{let e=new Float32Array(3*i.length),t=new Float32Array(4*i.length);o.fixedStep(.016666666666666666);for(let n=0;n<i.length;n++){const r=i[n];e[3*n+0]=r.position.x,e[3*n+1]=r.position.y,e[3*n+2]=r.position.z,t[4*n+0]=r.quaternion.x,t[4*n+1]=r.quaternion.y,t[4*n+2]=r.quaternion.z,t[4*n+3]=r.quaternion.w}self.postMessage({positions:e,quaternions:t},[e.buffer,t.buffer])})();break;case"ADD_MOUSE_CONTRAINT":(({x:e,y:t,z:n,bodyID:a})=>{w=i[a],w.angularVelocity=new r.AO(0,0,0),p.position.set(e,t,n),u=new r.Qx(w,new r.AO(0,0,0),p,new r.AO(0,0,0)),o.addConstraint(u)})(n);break;case"MOVE_JOINT":(({x:e,y:t,z:n})=>{p.position.set(e,t,n),u.update()})(n);break;case"REMOVE_JOINT":o.removeConstraint(u),u=!1;break;case"THROW":(()=>{const e=new r.AO(w.velocity.x,w.velocity.y,w.velocity.z);w.applyImpulse(new r.AO(-Math.min(e.normalize(),4),0,0),new r.AO(0,0,0))})();break;default:console.error("Invalid type: "+t)}}))}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,o.x=()=>{var e=o.O(void 0,[261],(()=>o(591)));return o.O(e)},e=[],o.O=(t,n,r,a)=>{if(!n){var s=1/0;for(p=0;p<e.length;p++){for(var[n,r,a]=e[p],i=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[n,r,a]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>"bundle.1aa67ee0f10c88ad.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={591:1};o.f.i=(t,n)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunk=self.webpackChunk||[],n=t.push.bind(t);t.push=t=>{var[r,a,s]=t;for(var i in a)o.o(a,i)&&(o.m[i]=a[i]);for(s&&s(o);r.length;)e[r.pop()]=1;n(t)}})(),t=o.x,o.x=()=>o.e(261).then(t),o.x()})();
//# sourceMappingURL=bundle.fd1fb7b01bd1f832.js.map